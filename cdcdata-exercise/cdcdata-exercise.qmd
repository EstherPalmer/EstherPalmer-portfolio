---
title: "CDC Data analysis"
---

I downloaded data from the BEAM dashboard (found here: https://data.cdc.gov/Foodborne-Waterborne-and-Related-Diseases/BEAM-Dashboard-Serotypes-of-concern-Illnesses-and-/fvm6-ic5r/about_data)
I specifically filtered for data from year_first_ill is > 2020 so there should be about 5 years of data.

Now to lead in my packages:
```{r}
library(here) #to set paths
library(dplyr) #for data processing/cleaning
library(tidyr) #for data processing/cleaning
library(skimr) #for nice visualization of data 
library(eeptools) #I need to remove commas and this is the easiest way I found
library(ggplot2) #plots!
```

Now to load in my data:
```{r}
data_location <- here::here("cdcdata-exercise", "BEAM_Dashboard_Data.csv")
BEAM <- read.csv(data_location)
```

Now to get a glimpse of my data:
```{r}
summary(BEAM)
glimpse(BEAM)
skim(BEAM)
```
There are 339 observations of 10 variables. Some of these variables probably shouldn't be characters like Year. Some of these categories also feel unnessesary, like table_id which looks like it just contains info from several other columns. Also Pathogen should be _Salmonella_ for all of this data, so it is unhelpful (and we can see there is only one observation). It does look like there's no missing data though. There are 36 unique serovars which is cool!

Lets remove the useless variables
```{r}
d1 <- data.frame(BEAM$Food_category, BEAM$Year_first_ill, BEAM$Serotype, BEAM$No_of_illnesses, BEAM$No_of_outbreaks, BEAM$Year, BEAM$Year_range, BEAM$Running_total_by_year_range )
skim(d1)
```
#Note to future self: this renames the variables to BEAM.variable

Lets turn the year into a numeric variable
```{r}
d1$BEAM.Year <- decomma(d1$BEAM.Year)
glimpse(d1$BEAM.Year)
d1$BEAM.Year_first_ill <- decomma(d1$BEAM.Year_first_ill)
glimpse(d1$BEAM.Year_first_ill)
```

I want to make sure that these categorical variables are actually categories
```{r}
d1$BEAM.Serotype <- as.factor(d1$BEAM.Serotype)
d1$BEAM.Food_category <- as.factor(d1$BEAM.Food_category)
skim(d1)
```

This just leaves year range as something that should maybe be fixed. This one is tricky though, because each outbreak is going to have a separate year range. Also given how I filtered the data by year first ill this column may not be helpful.

